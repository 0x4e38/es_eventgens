"use strict";i18n_register({plural:function(a){return 1==a?0:1},catalog:{}}),require(["jquery","underscore","splunkjs/mvc","sa-threatintelligence/js/views/AdHocRiskScoreView","sa-utils/js/views/ToggleInputView","util/splunkd_utils","sa-utils/js/util/autopause","splunkjs/mvc/simplexml/ready!"],function(a,b,c,d,e,f){function g(c,d){var e=null;return a.ajax({url:f.fullpath("/services/identitymapper/reverse_lookup?value="+c+"&constraint_fields=All_Risk.risk_object&constraint_method="+d),type:"GET",async:!1,success:function(a,b,c){e=a.clauses[0]},error:function(a,c,d){alert(b("Unable to retrieve search criteria.").t())}}),e}function h(a,b){var c="";null!==a&&""!==a&&null!==b&&""!==b&&(c='All_Risk.risk_object_type="system"'===b?g(a,"reverse_asset_lookup"):'All_Risk.risk_object_type="user"'===b?g(a,"reverse_identity_lookup"):'All_Risk.risk_object="'+a+'"'),i.set("risk_object",c)}var i=c.Components.get("submitted");i.on("change:risk_object_type change:risk_object_form",function(){i.has("risk_object_type")&&i.has("risk_object_form")&&h(i.get("risk_object_form"),i.get("risk_object_type"))}),i.has("risk_object_type")&&i.has("risk_object_form")&&h(i.get("risk_object_form"),i.get("risk_object_type"));var j=new d({el:a("#adhocdialog")});j.render(),defaultTokens=c.Components.get("default");var k=defaultTokens.has("form.risk_object_form")?defaultTokens.get("form.risk_object_form"):"",l=defaultTokens.has("form.risk_object_type")?defaultTokens.get("form.risk_object_type")||b("All").t():b("All").t(),m=new e({el:a("#risk_object"),choices:[{label:b("All").t(),value:"*"}],includeInput:!0,tokenNamespace:"default",textValue:k,defaultValue:l,token:"risk_object_form",dropdownToken:"risk_object_type",makeTokenForEachSelection:!1,defaultTokenValue:"*",populatingSearch:"| `risk_object_types`",prefixDropdown:'All_Risk.risk_object_type="',suffixDropdown:'"'});m.render(),a("#risk_object_label").html(b("Risk Object").t())});