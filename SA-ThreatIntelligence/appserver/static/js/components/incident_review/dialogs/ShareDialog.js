"use strict";define(["jquery","underscore","module","views/Base","views/shared/Modal","views/shared/controls/ControlGroup","uri/route","util/time","splunk.util"],function(a,b,c,d,e,f,g,h,i){return e.extend({moduleId:c.id,initialize:function(){e.prototype.initialize.apply(this,arguments);var a=this.model.event.get("_time"),c=a&&a.length>0&&a[0],d={"form.srch":"rule_id="+this.model.event.get("rule_id")[0]};if(void 0!==c){var h=Date.parse(c)/1e3;d.earliest=h-1,d.latest=h+1}this.linkToEvent=g.page(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),this.model.application.get("page"),{data:d,absolute:!0}),this.children.link=new f({label:b("Link To Event").t(),controlType:"Text",help:b("Copy or bookmark the link by right-clicking the icon, or drag the icon into your bookmarks bar.").t(),controlOptions:{className:"notable-event-link",defaultValue:this.linkToEvent,append:'<a class="add-on bookmark" href="'+this.linkToEvent+'"><i class="icon-bookmark"></i><span class="hide-text">'+b("Splunk Notable Event").t()+"</span></a>"}})},events:a.extend({},e.prototype.events,{"click a.bookmark":function(a){a.preventDefault()}}),render:function(){return this.$el.html(e.TEMPLATE),this.$(e.HEADER_TITLE_SELECTOR).html(b("Share Event").t()),this.$(e.BODY_SELECTOR).append(e.FORM_HORIZONTAL),this.children.link.render().appendTo(this.$(e.BODY_FORM_SELECTOR)),this}})});