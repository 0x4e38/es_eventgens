"use strict";define(["underscore","jquery","module","views/Base","helpers/user_agent","splunk.util"],function(a,b,c,d,e,f){return d.extend({moduleId:c.id,tagName:"thead",initialize:function(){d.prototype.initialize.apply(this,arguments),a.defaults(this.options,{sortableFields:!0}),this.labels=this.options.labels||[],this.fieldNames=this.options.tableHeaderFieldNames||[],this.labels_to_Fields=a.zip(this.labels,this.fieldNames)},startListening:function(){this.options.backboneEventMediator.on("ir-remove-select-all-checkbox",function(){this.toggleSelectAll(!1,!0,!1)},this),this.options.backboneEventMediator.on("ir-add-select-all-checkbox",function(){this.toggleSelectAll(!0,!1,!1)},this),this.listenTo(this.model.report.entry.content,"change:display.events.rowNumbers change:display.events.table.sortDirection change:display.events.table.sortColumn",this.render)},events:{"click th.col-visibility label.checkbox a.btn.show":function(a){this.toggleSelectAll(!0,!0,!0),a.preventDefault()},"click th":function(a){var c=b(a.currentTarget);this.model.report.entry.content.set({"display.events.table.sortDirection":c.hasClass("asc")?"desc":"asc","display.events.table.sortColumn":c.attr("data-name")}),a.preventDefault()}},toggleSelectAll:function(a,b,c){var d='<i class="icon-check ir-selected"></i>',e=this.$("th.col-visibility > label > a > i"),f=this.$("th.col-visibility > label > a");e.length>=1?b&&(f.empty(),c&&this.options.backboneEventMediator.trigger("ir-remove-all-selected-row")):(a&&f.append(d),c&&this.options.backboneEventMediator.trigger("ir-select-all-row"))},updateLabels:function(a){this.options.labels=a,this.render()},render:function(){return this.$el.html(this.compiledTemplate({_:a,is_ie7:e.isIE7()||e.isIE()&&e.isInIE7DocumentMode()?"ie7":"",is_ie8:e.isIE8()?"ie8":"",labels_to_Fields:this.labels_to_Fields,isSelectAllChecked:!1,content:this.model.report.entry.content,sortableFields:this.options.sortableFields,reorderableHandle:this.options.selectableFields?"on":"off",isRealTime:this.model.searchJob.entry.content.get("isRealTimeSearch")})),this},template:'\t\t\t\t\t<tr>\t\t\t\t\t\t<th class="col-info"><i class="icon-info"></i></th>\t\t\t\t\t\t<th class="col-visibility" title="SelectAll">\t\t\t\t\t\t\t<label class="checkbox ir-label-checkbox"> <a class="btn show"> \t\t\t\t\t\t\t\t<% if(isSelectAllChecked) {%>\t\t\t\t\t\t\t\t\t<i class="icon-check ir-selected"></i>\t\t\t\t\t\t\t\t<%}%>\t\t\t\t\t\t\t</a></label>\t\t\t\t\t\t</th>\t\t\t\t\t\t<% _.each(labels_to_Fields, function(label_to_Field, index) { %>                                <% var active = (!isRealTime && (content.get("display.events.table.sortColumn") == _(label_to_Field[1]).t())) ? "active": ""%>                                <% var dir = (!isRealTime && (active==="active")) ? content.get("display.events.table.sortDirection") : ""%>                                <% var sorts = (!isRealTime && sortableFields) ? "sorts" : ""; %>                                <% var reorderable = (!isRealTime) ? "reorderable" : ""; %>                                <% var reorderableLabel = (!isRealTime) ? "reorderable-label" : ""; %>                                <th class="col-<%- index %> <%- is_ie7 %> <%- reorderable %> <%- sorts %> <%-active%> <%-dir%>" data-name="<%- _(label_to_Field[1]).t() %>"><span class="<%- reorderableLabel %> <%- reorderableHandle %>"><%- _(label_to_Field[0]).t() %></span></th>\t\t\t\t\t\t<% }) %>\t\t\t\t\t\t<th class="col-<%- labels_to_Fields.length %> <%- is_ie7 %> <%- is_ie8 %>"><%- _("Actions").t() %></th>\t\t\t\t\t</tr>\t\t\t\t\t'})});